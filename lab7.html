<!--
	THIS EXAMPLE WAS DOWNLOADED FROM https://echarts.apache.org/examples/en/editor.html?c=map-usa&code=LYTwwgFghgTgLgOgM4QPYHcAyqoBMCWAdgOYAUAlANwBQAJAsQKZykBKA8uwCoD6ACgEEuACQAEAalEByAPS4ocKDKhIkzGU1Qz0qGABtcCAFZJUhKQBpRAMwCuhAMZx8Z0aVtIoAKVOFyogG9qUVFQSFhECHxcRmw8IjIqYNFGB2h4JAQYRmJ8JDhGGABZKAAHUikAVQBlAUtRD29fKyCQkIE9FQBrKAAuQOS20T1Gazh-gFoARgBmKYtBtrhUUv6AJgBWBaGQ9Gi4CH6pjcWAX2224Sh0KHx8ftadkbHJqamABguh5dXRNYAOL5tPa4A79E5Dc6LKR8WyFZaiVj4ByoKQPRYhZ7jUQTADsADYgSEfutCRjRCCwX8zslTkkQitnK4ALwDb74OAjdE7UQFAAe2KqtVEfBWtk6TMIogAovl8MAFIwkG41u8pmtyJZyUhbAAjfmCgAiCigNhgqGAFPQ6AQDkYhB1mWIqAAblqeTrdXoiF1-lIIHA4KsZNprbb7Y6GK6ZKUVkq4HITYnFGo4JkA8A9O6nqNBTB8MQA1IzkDlqg9M5fo9vvniEwYH6OYxgNmhigMIbGJ0QP1PuS4DAoA6OS5CIbbIPJb2EGsS4sXXlbFA9CUq-SsX7a0WiaEiOD3geDzuFXz-jN_ofDzuiKwh0xuTzRCi9Lp-gBtclDKQAYjmM3xACcGyto-P4ACwbLiGy6mBIE8j-uJgXguBTHBOw_lAuq4ABjAAWhX7fow7zWDM1j_PhbQ_tY1HWLq1gUSEVGMERAHvAx0jftY8iMPiqE7gR1hgfiuBgTM7E_rguIzO8ay4uJ35QBsB5rPixaPqIAC65JQjyBrvlIwgFhA9RSNg6BSBpO4OMuDjiphXK8jAcJzt8qDlrqqCnmyOztug_QDnCO4hro-D2oKLrwsiy5oRu0hYmhJLSD8aHWIwCgTowD48vIigAGqhX5gSiNkeDsIQeg9jYy5qKIOmPtk-S6JlgR1R6UARQISAAJIKveLXaS5bRqPmSrvuS1Y7IQUDAM1QoCCKKyys4CoFEgFFwCApSzQqpQUea03-U5jD8aEZR-jUdQnc2pTQEgeRZY-nS6l2D3qb5h3OepISnJ-tUnTlfSiB-X1FVNM1-h0mHTVA9QusucL9GB_xrKqawzH9v0hAEohg7NkNID0sPw81UlTGBYEARjIPY7jEP5gAXmYMNWHDegI6I-IbBsMybBsVNfTT014zAPQOioRNs81awARTsxTPz6mC-D0hgMu-DWLohD4Mzois-z57vGBZPSQrj5K7NYDlroeCoizxPglM_xQcjps8ubfqW4QhCpM4tlwBL-sbKxMxgbirs7O70idp0NzZAHzUAVMuLvABazh0MkdSIaeQDsicCiKg1iiJbbPALq2vx_0-I8zX6dtJnABiL75vIleiFMAFzFB-L_HXWM40LfoAOKMLouQ63rCeJwBMt861ZsD8rBnXLc-Bt7Mqd_n3oOD9IXXyGg69B5BALb5nXV6N6hCoHk68AlBvNn4vs1dYQBBDhP9sc9zUkh0_tN7wwJ_SWZ53iIUdvif-u8pAAGkhyeDWnbEBfx_j_CDu8OeJ1-4ANgWFWwDguggDbqJC8RtMGYx3kvbAtg8jaymsQ_Eap_idygUvEoRBGDrx5tPNO883bPz9CUGAIBOhvzbhsVBEFq6sNmiUVQUA0geGYGmNu-J8RCTJmBGRgjkRRGIEONuAFUEzH_O8bR0gihEG9qYRQ4iZi4kTjMSmfCI4CIsXkO6qh8ClFKGvJB7Npb_ApipcxUhLGqFQBOPxusv6MLWB3VBoSihmEUPQ_xzUPgYLJvLFxGc3FSAAHKMF1IOAmwD2aOy5hsTYoSilw1buk9YztO45KwZQ2aRT0CiCuMAUoKB8Bx0ae3HmYDHa1MYF0rwhQ1BEKGag9R6DxldKKIwPkyJbYxOQaqNB3Ne65PrvkzpogACaugujryAsnFSrSKGZwKboA4xdYDliIOUhOD8wHo32dg6B9z4AQFEMaLoqBbFDMAgBfEp9vntL9OwKIGzJ5HGOOTFG5Dqb5PYF0ToaAFRt3PGTZGZjoWZ3YNkZ05ghnnhnjMbmoS-D2gdCIuGWs3lHFktXbmkDiX5NYGgGIogupIFEbgdeGCZKp1CdUSJjzVbmivqy0Qoc0a4jRpK6VAKgUgoVf8ExNKtHcpwVwBlSo1CcLBVItYolQlGr5OLIZKkMGp3eF8tpmdKiKGMvanZ99Qm5UKMAFJqiHVvF9QM3ILK27_Eqf8fEYcDXQIAOoqCiCQZYFLNnsx7gBZO6pQkJvjKIfKMBw0VyGZUjYRsXW3PyQmvIKJhzpsRaIE-1cjF5pABaBI4iCRG14a6_JsJ4SoEROsvFajk5BNqr9LSPIfpDBnbVGgIQwjpEQKmdgpRJSkEZKOJIdJKBAA
	⚠ Please be aware that this chart is not an official demo of Apache ECharts but is made by user-generated code.
-->
<!DOCTYPE html>
<html lang="en" style="height: 100%">
<head>
  <meta charset="utf-8">
</head>
<body style="height: 100%; margin: 0">
  <div id="container" style="height: 70%"></div>
  <div id="c2" style="height: 30%"></div>

  <script type="text/javascript" src="https://echarts.apache.org/en/js/vendors/jquery@3.7.1/dist/jquery.min.js"></script>
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
  
  <!-- Uncomment this line if you want to dataTool extension
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5/dist/extension/dataTool.min.js"></script>
  -->
  <!-- Uncomment this line if you want to use gl extension
  <script type="text/javascript" src="https://echarts.apache.org/en/js/vendors/echarts-gl/dist/echarts-gl.min.js"></script>
  -->
  <!-- Uncomment this line if you want to echarts-stat extension
  <script type="text/javascript" src="https://echarts.apache.org/en/js/vendors/echarts-stat/dist/ecStat.min.js"></script>
  -->
  <!-- Uncomment this line if you want to echarts-graph-modularity extension
  <script type="text/javascript" src="https://echarts.apache.org/en/js/vendors/echarts-graph-modularity/dist/echarts-graph-modularity.min.js"></script>
  -->
  
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@4.9.0/map/js/world.js"></script>
  
  <!-- Uncomment these two lines if you want to use bmap extension
  <script type="text/javascript" src="https://api.map.baidu.com/api?v=3.0&ak=YOUR_API_KEY"></script>
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5/dist/extension/bmap.min.js"></script>
  -->

  <script type="text/javascript">
    const tmp = async () => {
      const getData = async () => {
        return await (await fetch('./BR-exportacoes_importacoes_2025.json')).json();
      }

      const dados = await getData()
      var dom = document.getElementById('container');
      var c2 = document.getElementById('c2')
      var myChart = echarts.init(dom, null, {
        renderer: 'canvas',
        useDirtyRect: false
      });
      var chart2 = echarts.init(c2, null, {
        renderer: 'canvas',
        useDirtyRect: false
      });
      var app = {};
      var ROOT_PATH = 'https://echarts.apache.org/examples';
      var option;
      let op2;

      myChart.showLoading();

      myChart.hideLoading();
      option = {
        title: {
          text: 'Volume de Exportações do Brasil (2025)',
          subtext: '',
          left: 'center'
        },
        tooltip: {
          trigger: 'item',
          showDelay: 0,
          transitionDuration: 0.2
        },
        visualMap: {
          left: 'right',
          top: 'center',
          inRange: {
            color: [
              '#313695',
              '#4575b4',
              '#fdae61',
              '#f46d43',
              '#d73027',
              '#a50026'
            ]
          },
          text: ['High', 'Low'],
          calculable: true
        },
        toolbox: {
          show: true,
          //orient: 'vertical',
          left: 'left',
          top: 'top',
          feature: {
            dataView: { readOnly: false },
            restore: {},
            saveAsImage: {}
          }
        },
        series: [
          {
            name: '',
            type: 'map',
            roam: true,
            map: 'world',
            emphasis: {
              label: {
                show: true
              }
            },
            data: dados.EXP["2025"].map(obj => ({name: obj.name, value: obj.us_value}))
          }
        ]
      };
      myChart.setOption(option);

      if (option && typeof option === 'object') {
        myChart.setOption(option);
      }

      op2 = {
        title: {
          text: 'Totais por ano'
        },
        tooltip: {
          trigger: 'axis'
        },
        legend: {
          data: ['Exportações', 'Importações', 'Balança Comercial']
        },
        grid: {
          left: '3%',
          right: '4%',
          bottom: '3%',
          containLabel: true
        },
        toolbox: {
          feature: {
            saveAsImage: {}
          }
        },
        xAxis: {
          type: 'category',
          boundaryGap: false,
          data: Object.keys(dados.BAL)
        },
        yAxis: {
          type: 'value'
        },
        series: [
          {
            name: 'Total de Exportações do Brasil',
            type: 'line',
            stack: 'Total',
            data: [dados.EXP]
          },
          {
            name: 'Total de Importações do Brasil',
            type: 'line',
            stack: 'Total',
            data: [220, 182, 191, 234, 290, 330, 310]
          },
          {
            name: 'Total de Balança Comercial do Brasil',
            type: 'line',
            stack: 'Total',
            data: [150, 232, 201, 154, 190, 330, 410]
          },
        ]
      }

      chart2.setOption(op2)

      const changeType = (type) => {
        let newOp;
        
        if (type == 'BAL') {
          newOp = {
            title: {
              text: 'Volume na balança comercial do Brasil (2025)',
              subtext: '',
              left: 'center'
            },
            tooltip: {
              trigger: 'item',
              showDelay: 0,
              transitionDuration: 0.2
            },
            visualMap: {
              left: 'right',
              inRange: {
                color: [
                  '#313695',
                  '#4575b4',
                  '#74add1',
                  '#abd9e9',
                  '#e0f3f8',
                  '#ffffbf',
                  '#fee090',
                  '#fdae61',
                  '#f46d43',
                  '#d73027',
                  '#a50026'
                ]
              },
              text: ['High', 'Low'],
              calculable: true
            },
            toolbox: {
              show: true,
              //orient: 'vertical',
              left: 'left',
              top: 'top',
              feature: {
                dataView: { readOnly: false },
                restore: {},
                saveAsImage: {}
              }
            },
            series: [
              {
                name: '',
                type: 'map',
                roam: true,
                map: 'world',
                emphasis: {
                  label: {
                    show: true
                  }
                },
                data: dados.BAL["2025"].map(obj => ({name: obj.name, value: obj.us_value}))
              }
            ]
          }
        } else if (type == 'IMP') {
          if (type == 'BAL') {
            newOp = {
              title: {
                text: 'Volume na balança comercial do Brasil (2025)',
                subtext: '',
                left: 'center'
              },
              tooltip: {
                trigger: 'item',
                showDelay: 0,
                transitionDuration: 0.2
              },
              visualMap: {
                left: 'right',
                inRange: {
                  color: [
                    '#313695',
                    '#4575b4',
                    '#74add1',
                    '#abd9e9',
                    '#e0f3f8',
                    '#ffffbf',
                    '#fee090',
                    '#fdae61',
                    '#f46d43',
                    '#d73027',
                    '#a50026'
                  ]
                },
                text: ['High', 'Low'],
                calculable: true
              },
              toolbox: {
                show: true,
                //orient: 'vertical',
                left: 'left',
                top: 'top',
                feature: {
                  dataView: { readOnly: false },
                  restore: {},
                  saveAsImage: {}
                }
              },
              series: [
                {
                  name: '',
                  type: 'map',
                  roam: true,
                  map: 'world',
                  emphasis: {
                    label: {
                      show: true
                    }
                  },
                  data: dados.IMP["2025"].map(obj => ({name: obj.name, value: obj.us_value}))
                }
              ]
            }
          } else {
            newOp = option;
          }

          myChart.setOption(newOp);
        }
      }

      window.addEventListener('resize', myChart.resize);
    }

    tmp()
  </script>
</body>
</html>